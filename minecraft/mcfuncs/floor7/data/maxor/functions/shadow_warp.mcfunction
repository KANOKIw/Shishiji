execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^1 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^0 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^2 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^1 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^3 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^2 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^4 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^3 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^5 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^4 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^6 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^5 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^7 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^6 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^8 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^7 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^9 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^8 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^10 align xyz unless block ~ ~ ~ air run tag @s add blocks_in_the_way_but_on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^9 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 0 0 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 1 1 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 2 2 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.3
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 3 3 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.6
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 4 4 run playsound block.note_block.harp music @a ~ ~ ~ 1 1
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 5 5 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 6 6 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.5
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 7 7 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.8
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 8 8 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.7
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 9 9 run playsound block.note_block.harp music @a ~ ~ ~ 1 1.4
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s if score melody_random melody_random = 10 10 run playsound block.note_block.harp music @a ~ ~ ~ 1 0.9
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] run tag @s remove blocks_in_the_way_but_on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^10 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^10 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^9 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^9 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^8 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^8 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^7 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^7 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^6 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^6 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^5 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^5 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^4 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^4 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^3 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^3 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^2 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^2 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^1 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^1 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp

execute as @e[tag=hyperion_impacted] at @s anchored eyes positioned ^ ^ ^0 align xyz if block ~ ~ ~ air run tag @s add on_shadow_warp
execute as @e[tag=blocks_in_the_way_but_on_shadow_warp] at @s run execute as @e[tag=player_interaction, sort=nearest, limit=1] run tag @s add with_transmission
execute as @e[tag=on_shadow_warp] at @s anchored eyes run summon armor_stand ^ ^ ^0 {Tags: ["shadow_warp_dummy_tmp"], Invisible: 1b, NoGravity: 1b}
execute as @e[tag=on_shadow_warp] run tp @s 0 -60 0
execute as @e[tag=on_shadow_warp] at @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1] run tp @s ~ ~ ~
execute as @e[tag=on_shadow_warp] run kill @e[tag=shadow_warp_dummy_tmp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] at @s run tp @s @e[tag=blocks_in_the_way_but_on_shadow_warp, sort=nearest, limit=1]
execute as @e[tag=with_transmission] run tag @s remove with_transmission
execute as @e[tag=on_shadow_warp] at @s align xyz if block ~ ~ ~ air run tp @s ~0.5 ~ ~0.5
execute as @e[tag=on_shadow_warp] at @s align xyz unless block ~ ~ ~ air run tp @s ~0.5 ~1 ~0.5
execute as @e[tag=on_shadow_warp] at @s run particle explosion ~ ~ ~ 0 0 0 3.5 30 force @a[distance=0.01..]
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "raw_hyperion"]}}}] at @s run execute as @e[scores={Health=..15}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run particle note ~ ~1 ~ 0 0 0 1 1 force @a
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["music_rune", "maxed_hyperion"]}}}] at @s run execute as @e[scores={Health=..60}, type=!player, distance=0.01..6, type=!item, type=!interaction, type=!arrow, type=!armor_stand, type=!text_display, type=!tnt, type=!block_display, type=!enderman, tag=!crystal_dummy, nbt=!{Invisible: 1b}] at @s run playsound block.note_block.harp music @a ~ ~ ~ 1 1.2
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["raw_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 15 mob_attack by @p
execute as @e[tag=on_shadow_warp, nbt={SelectedItem:{tag:{Tags:["maxed_hyperion"]}}}] at @s run execute as @e[distance=0.01..6, type=!item, type=!interaction, type=!arrow, tag=!crystal_dummy, type=!player, nbt=!{Invisible: 1b}] run damage @s 60 mob_attack by @p
execute as @e[tag=on_shadow_warp] at @s run playsound entity.generic.explode block @s ~ ~ ~
execute as @e[tag=on_shadow_warp] at @s run playsound entity.enderman.teleport master @s ~ ~ ~ 0.5 1
execute as @e[tag=on_shadow_warp] run scoreboard players operation @s mana_current -= @s hyperion_mana_cost
execute as @e[tag=on_shadow_warp] run scoreboard players set @s hyperion_cooldown 2
execute as @e[tag=on_shadow_warp] run tag @s remove hyperion_impacted
execute as @e[tag=on_shadow_warp] run tag @s remove on_shadow_warp



execute as @e[tag=wither_shielding] at @s run playsound entity.zombie_villager.cure block @s ~ ~ ~ 1 0.8

execute as @e[tag=wither_shielding] at @s run particle witch ^ ^0.5 ^0.4 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.15 ^0.7 ^0.4 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.15 ^0.7 ^0.4 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.225 ^0.8 ^0.4 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.225 ^0.8 ^0.4 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.3 ^0.85 ^0.4 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.3 ^0.85 ^0.4 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.525 ^0.9 ^0.4 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.525 ^0.9 ^0.4 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.575 ^1 ^0.4 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.575 ^1 ^0.4 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.575 ^1.1 ^0.4 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.575 ^1.1 ^0.4 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.575 ^1.2 ^0.3 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.575 ^1.2 ^0.5 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.525 ^1.3 ^0.3 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.525 ^1.3 ^0.3 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.3 ^1.35 ^0.3 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.3 ^1.35 ^0.3 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.225 ^1.4 ^0.3 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.225 ^1.4 ^0.3 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^-0.15 ^1.5 ^0.3 0 0 0 1 2 force @a
execute as @e[tag=wither_shielding] at @s run particle witch ^0.15 ^1.5 ^0.3 0 0 0 1 2 force @a

execute as @e[tag=wither_shielding] at @s run particle witch ^ ^1.7 ^0.3 0 0 0 1 2 force @a


execute as @e[tag=wither_shielding] run scoreboard players set @s wither_shield_cooldown 100
execute as @e[tag=wither_shielding] run tag @s remove wither_shielding
